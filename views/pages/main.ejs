<!DOCTYPE html>
<html lang="en">
<!-- HEAD -->
<head>
  <!-- Cần thiết cho 1 web -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Bootstrap CSS -->

  <link rel="stylesheet" href="/index&manage.css">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">

  <title>Trang chủ</title>

  <!-- Thư viện online cho Bootstrap -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular.min.js"></script>
  <script src="/dirPagination.js"> </script> <!-- nguồn code tham khảo https://www.youtube.com/watch?v=wee_si2U3M4-->
  <script src="/angular.ng-modules.js"></script> <!--nguồn code tham khảo https://github.com/luisperezphd/ngModule-->

  <script>
    window.history.pushState("", "", '/home');
  </script>
</head>


<!-- CSS tự định nghĩa -->
<style type="text/css">
  .nav-pills>a.active, .nav-pills>a:focus, .nav-pills>a:hover {
    cursor: default;
    font-weight: bold;
    background-color: #009999 !important;
    border-bottom: 3px solid #ff0066;
    color: black;
    border-radius: 0px;
  }
  .nav-pills>a {

    font-weight: normal;
    border-bottom: 3px solid #ff0066;
    color: black;
    border-radius: 0px;
  }
</style>


<!-- BODY -->
<body>

  <!-- HEADER -->
  <header>

    <!--Navbars -->
    <nav class="navbar navbar-expand-md navbar-dark fixed-top bg-dark">
      <a id="logo" class="navbar-brand" href="/home">Q&A</a>
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" style="margin: 0px 30px" id="navbarCollapse">
        <ul class="navbar-nav mr-auto">
          <li class="nav-item active">
            <a class="nav-link" href="/home">Trang chủ <span class="sr-only">(current)</span></a>
          </li>

          <li class="nav-item">
            <a class="nav-link" href="/support">Trợ giúp</a>
          </li>
        </ul>

        <form id="search" class="form-inline my-2 my-lg-0">
          <input class="form-control mr-sm-2" type="search" placeholder="Search" aria-label="Search">
          <button class="btn btn-outline-secondary my-2 my-sm-0" type="submit">Search</button>
        </form>
        <% if (session.username) {%>
        <ul class="navbar-nav" style="display: contents;">
          <li class="nav-item">
            <a class="nav-link" href="#"><img src="./images/icons/bell.jpg" width="40" height="40" style="border-radius: 100%"></a>
          </li>
          <li>
            <div class="thumb" style="background-image:url(./images/soccer.jpg);width: 40px;height: 40px"></div>
          </li>

          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" style="color: whitesmoke" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><%=session.name%> </a>
            <div class="dropdown-menu" aria-labelledby="dropdown01">
              <a class="dropdown-item" href="/yourprofile">Quản lý tài khoản</a>
              <a class="dropdown-item" href="/logout")>Đăng xuất</a>
            </div>
          </ul>
          <%} else {%>
          <ul class="navbar-nav" style="display: contents;">
            <li class="nav-item">
              <a class="nav-link" href="/login"><Đăng nhập</a>
            </li>
          </ul>
          <%}%>
        </div>
      </nav>

      <!-- Nội dung khi ấn vào ô Tìm Kiếm -->
        <div id="search" class="collapse" style="float: right; margin-right: 80px;">
          <div class="input-group-append">
              <button class="btn btn-secondary" type="button">Tìm</button>
              <input class="form-control" type="search" placeholder="Nhập vào đây...">
          </div>
        </div>



        <!-- MAIN -->
        <main>


          <!-- Nav-tabs-->
          <div class="container" style="margin-top: 50px;">

            <nav class="nav nav-pills nav-justified">
              <a class="nav-item nav-link active" data-toggle="tab" href="#1">Các phiên hoạt động</a>
              <a class="nav-item nav-link" data-toggle="tab" href="#2">Các phiên đã đóng</a>
            </nav>


            <!-- Nội dung các tabs-->
            <div class="tab-content" >
              <!--Phiên mở-->
                    <div id="1" class="tab-pane active" ng-module="paginationApp" ng-controller="listdata">
                              <div class="row post" style="margin-top: 20px;" dir-paginate="val in data|orderBy:sortKey:reverse|itemsPerPage:2">
                                      <div class="col-md-1" style="padding-left: 25px;">
                                            <div class="thumb" style="background-image:url(./images/soccer.jpg);width: 40px;height: 40px"></div>
                                      </div>
                                      <div class="col-md-6">
                                        <a href="/session"><h4>{{val.chude}}</h4></a>
                                        <p>{{val.mota}}</p>
                                      </div>
                                      <div class="col-md-5" style="display: flex;">
                                            <table style="text-align: center;">
                                                  <tr>
                                                        <td><img src="./images/icons/view.png" width="30" height="30" style="border-radius: 100%; border: 2px solid"></td>
                                                        <td><img src="./images/icons/reply.png" width="30" height="30" style="border-radius: 100%; border: 2px solid"></td>
                                                        <td><img src="./images/icons/star.png" width="30" height="30" style="border-radius: 100%; border: 2px solid"></td>
                                                        <td rowspan="2" style="margin: 0"><img src="./images/icons/open.png" width="30" height="30"></td>
                                                  </tr>
                                                  <tr>
                                                    <td><p>{{val.lxem}} lượt xem</p></td>
                                                    <td><p>{{val.phanhoi}} phản hồi</p></td>
                                                    <td><p>Đánh giá: {{val.dagia}}</p></td>
                                                  </tr>
                                            </table>
                                      </div>
                                <p style="padding-left: 20px; font-size: 12px">{{val.time}} giờ trước</p>
                              </div>
                              <dir-pagination-controls
                                max-size="3"
                                direction-links="true"
                                boundary-links="true"  >
                              </dir-pagination-controls>

                    </div>
                    <script type="text/javascript">
                      var app = angular.module('paginationApp', ['angularUtils.directives.dirPagination']);

                      app.controller('listdata', function($scope) {
                        var data=[
                          {"chude":"hello", "mota":"hi", "lxem": 200, "phanhoi": 3, "dagia": 2, "time": "15"},
                          {"chude":"hello", "mota":"hi", "lxem": 100, "phanhoi": 4, "dagia": 2,"time": "16"},
                          {"chude":"hello", "mota":"hi", "lxem": 20, "phanhoi": 5, "dagia": 2,"time": "17"},

                        ]
                        $scope.data =data;
                      });
                    </script>

            <!--Phiên đã đóng-->
              <div id="2" class="tab-pane tab-pane fade" ng-module="paginationAppd"  ng-controller="listapp">
                    <div class="row post" style="margin-top: 20px;" dir-paginate="value in name|orderBy:sortKey:reverse|itemsPerPage:2" >
                          <div class="col-md-1" style="padding-left: 25px;">
                                <div class="thumb" style="background-image:url(./images/soccer.jpg);width: 40px;height: 40px"></div>
                          </div>
                          <div class="col-md-6">
                                <a href="#"><h4>{{value.chuded}}</h4></a>
                                <p>{{value.motad}}</p>
                          </div>
                          <div class="col-md-5" style="display: flex;">
                                <table style="text-align: center;">
                                      <tr>
                                        <td><img src="./images/icons/view.png" width="30" height="30" style="border-radius: 100%; border: 2px solid"></td>
                                        <td><img src="./images/icons/reply.png" width="30" height="30" style="border-radius: 100%; border: 2px solid"></td>
                                        <td><img src="./images/icons/star.png" width="30" height="30" style="border-radius: 100%; border: 2px solid"></td>
                                        <td rowspan="2" style="margin: 0"><img src="./images/icons/open.png" width="30" height="30"></td>
                                      </tr>
                                  <tr>
                                        <td><p>{{value.lxemd}} lượt xem</p></td>
                                        <td><p>{{value.phanhoid}} phản hồi</p></td>
                                        <td><p>Đánh giá: {{value.dagiad}}</p></td>
                                  </tr>
                                </table>
                          </div>
                          <p style="padding-left: 20px; font-size: 12px">{{value.timed}} giờ trước</p>
                    </div>
                    <dir-pagination-controls
                      max-size="1"
                      direction-links="true"
                      boundary-links="true"  >
                    </dir-pagination-controls>

              </div>

              <script type="text/javascript">
                var app = angular.module('paginationAppd', ['angularUtils.directives.dirPagination']);
                app.controller('listapp', function($scope){
                  var name=[
                    {"chuded":"hello1", "motad":"hi", "lxemd": 200, "phanhoid": 3, "dagiad": 2, "timed": "15"},
                    {"chuded":"hello1", "motad":"hi", "lxemd": 200, "phanhoid": 3, "dagiad": 2, "timed": "15"},
                    {"chuded":"hello1", "motad":"hi", "lxemd": 200, "phanhoid": 3, "dagiad": 2, "timed": "15"}

                  ]
                   $scope.name=name;
                });
              </script>

              <!-- <div class="tab-pane tab-panel fade">
                <div style="text-align: -webkit-right;">
                  <a href=""><img src="./images/icons/first.png" width="30" height="30" style="border-radius: 100%"></a>
                  <a href=""><img src="./images/icons/back.png" width="30" height="30" style="border-radius: 100%"></a>
                  <a href="">1</a>
                  <a href="">2</a>
                  <a href="">3</a>
                  <a >...</a>
                  <a href=""><img src="./images/icons/next.png" width="30" height="30" style="border-radius: 100%"></a>
                  <a href=""><img src="./images/icons/last.png" width="30" height="30" style="border-radius: 100%"></a>
                </div>
              </div> -->
            </div><br><br>
            <% if(session.isadmin){%>
            <a href="/createsurvey" class="btn btn-primary" style="margin:10px;background-color:#009999 " role="button">Tạo Phiếu khảo sát</a>
            <%}%>
            <nav class="nav nav-pills nav-justified">
              <a class="nav-item nav-link active" data-toggle="tab" href="#4">Khảo sát đang hoạt động</a>
              <a class="nav-item nav-link" data-toggle="tab" href="#5">Khảo sát đã kết thúc</a>
            </nav>


            <!-- Nội dung các tabs-->
            <div class="tab-content">
             <div id="4" class="tab-pane active" ng-module="paginationApppm"  ng-controller="listapppm">

              <div class="row post" style="margin-top: 20px;" dir-paginate="vlue in phieum|orderBy:sortKey:reverse|itemsPerPage:2">
                        <div class="col-md-1" style="padding-left: 25px;">
                              <div class="thumb" style="background-image:url(./images/soccer.jpg);width: 40px;height: 40px"></div>
                        </div>
                        <div class="col-md-6">
                              <a href="#"><h4>{{vlue.tieudepm}}</h4></a>
                              <p>{{vlue.motapm}}</p>
                        </div>
                        <div class="col-md-5" style="display: flex;">
                              <table style="text-align: center;">
                                    <tr>
                                          <td><img src="./images/icons/view.png" width="30" height="30" style="border-radius: 100%; border: 2px solid"></td>
                                          <td><img src="./images/icons/reply.png" width="30" height="30" style="border-radius: 100%; border: 2px solid"></td>
                                          <td><img src="./images/icons/star.png" width="30" height="30" style="border-radius: 100%; border: 2px solid"></td>
                                          <td rowspan="2" style="margin: 0"><img src="./images/icons/open.png" width="30" height="30"></td>
                                    </tr>
                                    <tr>
                                            <td><p>{{vlue.lxempm}} lượt xem</p></td>
                                            <td><p>{{vlue.phanhoipm}} phản hồi</p></td>
                                            <td><p>Đánh giá: {{vlue.dgiapm}}</p></td>
                                    </tr>
                              </table>
                        </div>
                        <p style="padding-left: 20px; font-size: 12px">{{vlue.timepm}} giờ trước</p>
              </div>

                      <dir-pagination-controls
                        max-size="1"
                        direction-links="true"
                        boundary-links="true"  >
                      </dir-pagination-controls>
            </div>
            <script type="text/javascript">
              var app = angular.module('paginationApppm', ['angularUtils.directives.dirPagination']);
              app.controller('listapppm', function($scope){
                var phieum=[
                  { "tieudepm":"Hello","motapm":"hi","lxempm": 200, "phanhoipm": 3, "dgiapm": 2, "timepm": "15"},
                  { "tieudepm":"Hello every one","motapm":"hi","lxempm": 200, "phanhoipm": 3, "dgiapm": 2, "timepm": "15"},
                  { "tieudepm":"Hello how are you","motapm":"hi","lxempm": 200, "phanhoipm": 3, "dgiapm": 2, "timepm": "15"},
                  { "tieudepm":"Hello i am fine","motapm":"hi","lxempm": 200, "phanhoipm": 3, "dgiapm": 2, "timepm": "15"},
                  { "tieudepm":"Hello thank you","motapm":"hi","lxempm": 200, "phanhoipm": 3, "dgiapm": 2, "timepm": "15"},
                ]
                 $scope.phieum=phieum;
              });
            </script>


            <div id="5" class="tab-pane tab-pane fade" ng-module="paginationApppd"  ng-controller="listapppd">

              <div class="row post" style="margin-top: 20px;" dir-paginate="vlues in phieud|orderBy:sortKey:reverse|itemsPerPage:2">
                      <div class="col-md-1" style="padding-left: 25px;">
                        <div class="thumb" style="background-image:url(./images/soccer.jpg);width: 40px;height: 40px"></div>
                      </div>
                      <div class="col-md-6">
                       <a href="#"><h4>{{vlues.tieudepd}}</h4></a>
                       <p>{{values.motapd}}</p>
                      </div>
                       <div class="col-md-5" style="display: flex;">
                              <table style="text-align: center;">
                                    <tr>
                                      <td><img src="./images/icons/view.png" width="30" height="30" style="border-radius: 100%; border: 2px solid"></td>
                                      <td><img src="./images/icons/reply.png" width="30" height="30" style="border-radius: 100%; border: 2px solid"></td>
                                      <td><img src="./images/icons/star.png" width="30" height="30" style="border-radius: 100%; border: 2px solid"></td>
                                      <td rowspan="2" style="margin: 0"><img src="./images/icons/lock.png" width="30" height="30"></td>
                                    </tr>
                                    <tr>
                                          <td><p>{{vlues.lxempd}} lượt xem</p></td>
                                          <td><p>{{vlues.phoipd}} phản hồi</p></td>
                                          <td><p>Đánh giá: {{vlues.dgiapd}}</p></td>
                                    </tr>
                              </table>
                      </div>
                      <p style="padding-left: 20px; font-size: 12px">{{vlues.timepd}} giờ trước</p>
                </div>

                <dir-pagination-controls
                  max-size="1"
                  direction-links="true"
                  boundary-links="true"  >
                </dir-pagination-controls>
          </div>
          <script type="text/javascript">
            var app = angular.module('paginationApppd', ['angularUtils.directives.dirPagination']);
            app.controller('listapppd', function($scope){
              var phieud=[
                { "tieudepd":"hello","motapd":"Hi","lxempd": 200, "phoipd": 3, "dgiapd": 2, "timepd": 15},
                { "tieudepd":"hello every one","motapd":"Hi","lxempd": 200, "phoipd": 3, "dgiapd": 2, "timepd": 15},
                { "tieudepd":"what is your name","motapd":"Hi","lxempd": 200, "phoipd": 3, "dgiapd": 2, "timepd": 15},
              ]
               $scope.phieud=phieud;
            });
          </script>


            <p style="padding-top: 50px; float: right;"><a href="#">Back to top</a></p>
      </div>
  </main>
            <footer id="footer">
                  <ul style="padding: 15px; margin-bottom: 0px;">
                    <h2 style="padding-bottom: 0px;text-decoration: none;">Hệ thống hỏi - đáp Q&A</h2>
                    <p style="font-size: 12px"> @2019 design by Team 5</p>
                  </ul>
            </footer>
    </body>
    </html>
